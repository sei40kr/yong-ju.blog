---
title: "P2P アーキテクチャ"
date: 2021-02-15T06:36:58+09:00
tags: ["勉強ノート", "分散システム"]
---

import { Link } from "@builder.io/qwik-city";

## 前提知識

- <Link href="/posts/distributed-system">分散システム</Link>

---

P2P (Peer to Peer) は対等なユーザ (ピア) 同士が通信するモデルである。
P2P モデルは、システムのユーザ数が増えても特定の機器にかかる負荷が分散されるので、スケーラブルである。

P2P モデルでは CAP に加えて、**ビザンチン耐性 (ビザンチン・フォールトトレラント性, Byzantine Fault Torelance)** が求められる。
ビザンチン耐性とは、あるノードが故意に偽の情報を伝達しても、全体としてシステムが正しく動作する性質である。

{/* TODO P2P アーキテクチャの利用用途について書く */}

## 分類

P2P モデルは、データとそれを所有するピアを管理するインデックスのもち方によって下記の 2 種類に分類される。

### ピュア P2P

ピュア P2P モデルでは、インデックスのパーティションを各ノードが分散してもつ。

ピュア P2P のネットワークに参加するには、既に参加しているノードのアドレスを知っている必要がある。
これを解決するためには、常にネットワークに参加しているノード (**コンタクトノード**) を用意しておく必要がある。

{/* TODO ピュア P2P を採用しているソフトウェアについて書く */}

### ハイブリッド P2P

ハイブリッド P2P モデルでは、インデックスを中央のインデックスサーバでもつ。

インデックスサーバはピア数の増加によってスケールしないので、システムのスケーラビリティにおいてピュア P2P に劣る。
また、インデックスサーバはシステム全体の単一障害点となる。

{/* TODO ハイブリッド P2P を採用しているソフトウェアについて書く */}

{/* TODO スーパーノード型 P2P について書く */}

{/* TODO ゴシッププロトコルについて書く */}

{/* TODO P2P ノードの機能について書く */}

## 参考文献

- Wikipedia, [Peer to Peer](https://ja.wikipedia.org/wiki/Peer_to_Peer)
- Wikipedia, [ビザンチン将軍問題](https://ja.wikipedia.org/wiki/%E3%83%93%E3%82%B6%E3%83%B3%E3%83%81%E3%83%B3%E5%B0%86%E8%BB%8D%E5%95%8F%E9%A1%8C)
